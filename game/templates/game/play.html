{% extends 'game/base.html' %}
{% load static %}

{% block head_extra %}
  <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
  <script>
    window.speechSynthesis.cancel();
    window.speechSynthesis.onvoiceschanged = () => {};
  </script>
{% endblock %}

{% block content %}
  <div id="game-container"
       style="width:1000px; height:600px; margin:0 auto; background:#000;">
  </div>

  <script>
    window.EPISODE       = {{ episode }};
    window.CHARACTER_KEY = "{{ character }}";
    console.log("play.html â†’ EPISODE =", window.EPISODE,
                ", CHARACTER_KEY =", window.CHARACTER_KEY);
  </script>

  <!-- Instead of a single bootstrap, include exactly one file -->
  {% if episode == 2 %}
    <script type="module"
            src="{% static 'game/js/episode2_bootstrap.js' %}">
    </script>
  {% else %}
    <script type="module"
            src="{% static 'game/js/episode1_bootstrap.js' %}">
    </script>
  {% endif %}
{% endblock %}
